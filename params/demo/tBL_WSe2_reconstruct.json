{
    "exp_params": {
        "illumination_type": "electron",
        "kv": 80,
        "conv_angle": 24.9,
        "Npix": 128,
        "dx_spec": 0.1494,
        "defocus": 0,
        "c3": 0,
        "c5": 0,
        "slice_thickness": 6,
        "Nlayer": 2,
        "N_scans": 16384,
        "N_scan_slow": 128,
        "N_scan_fast": 128,
        "scan_step_size": 0.429,
        "scan_flipT": null,
        "scan_affine": null,
        "scan_rand_std": 0.15,
        "omode_max": 1,
        "omode_init_occu": {
            "occu_type": "uniform",
            "init_occu": null
        },
        "pmode_max": 6,
        "pmode_init_pows": [
            0.02
        ],
        "probe_permute": null,
        "meas_permute": null,
        "meas_reshape": null,
        "meas_flipT": [
            1,
            0,
            0
        ],
        "meas_crop": null,
        "meas_resample": {
            "mode": null,
            "scale_factors": [
                2,
                2
            ]
        },
        "meas_add_source_size": null,
        "meas_add_detector_blur": null,
        "meas_add_poisson_noise": null
    },
    "source_params": {
        "measurements_source": "raw",
        "measurements_params": {
            "path": "data/demo/tBL_WSe2/Fig_1h_24.9mrad_Themis/scan_x128_y128.raw"
        },
        "obj_source": "simu",
        "obj_params": null,
        "probe_source": "simu",
        "probe_params": null,
        "pos_source": "simu",
        "pos_params": null,
        "tilt_source": "simu",
        "tilt_params": {
            "tilt_type": "all",
            "init_tilts": [
                [
                    0,
                    0
                ]
            ]
        }
    },
    "hypertune_params": {
        "if_hypertune": false,
        "collate_results": true,
        "n_trials": 20,
        "sampler_params": {
            "name": "TPESampler",
            "configs": {
                "multivariate": true,
                "group": true,
                "constant_liar": true
            }
        },
        "pruner_params": {
            "name": "HyperbandPruner",
            "configs": {
                "min_resource": 5,
                "reduction_factor": 2
            }
        },
        "storage_path": "sqlite:///hypertune.sqlite3",
        "study_name": "tBL_WSe2",
        "tune_params": {
            "optimizer": {
                "state": true,
                "suggest": "cat",
                "kwargs": {
                    "choices": [
                        "Adam",
                        "AdamW",
                        "RMSprop",
                        "SGD"
                    ]
                },
                "optim_configs": {}
            },
            "batch_size": {
                "state": true,
                "suggest": "int",
                "kwargs": {
                    "low": 16,
                    "high": 512,
                    "log": true
                }
            },
            "plr": {
                "state": false,
                "suggest": "cat",
                "kwargs": {
                    "choices": [
                        0.01,
                        0.0001,
                        0.0001
                    ]
                }
            },
            "oalr": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 0.0001,
                    "high": 0.01,
                    "step": null,
                    "log": true
                }
            },
            "oplr": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 0.0001,
                    "high": 0.01,
                    "step": null,
                    "log": true
                }
            },
            "slr": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 0.0001,
                    "high": 0.01,
                    "step": null,
                    "log": true
                }
            },
            "tlr": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 0.0001,
                    "high": 0.01,
                    "step": null,
                    "log": true
                }
            },
            "dzlr": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 0.0001,
                    "high": 0.01,
                    "step": null,
                    "log": true
                }
            },
            "pmode_max": {
                "state": false,
                "suggest": "int",
                "kwargs": {
                    "low": 1,
                    "high": 8,
                    "step": 1,
                    "log": false
                }
            },
            "conv_angle": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 24,
                    "high": 26,
                    "step": 1,
                    "log": false
                }
            },
            "defocus": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": -50,
                    "high": 50,
                    "step": 0.1,
                    "log": false
                }
            },
            "c3": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 4000,
                    "high": 10000,
                    "step": null,
                    "log": false
                }
            },
            "c5": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 50000,
                    "high": 100000,
                    "step": 5000,
                    "log": false
                }
            },
            "dz": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 4,
                    "high": 8,
                    "step": 0.5,
                    "log": false
                }
            },
            "scale": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": 0.8,
                    "high": 1.2,
                    "step": 0.02,
                    "log": false
                }
            },
            "asymmetry": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": -0.2,
                    "high": 0.2,
                    "step": 0.05,
                    "log": false
                }
            },
            "rotation": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": -4,
                    "high": 4,
                    "step": 0.5,
                    "log": false
                }
            },
            "shear": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": -4,
                    "high": 4,
                    "step": 0.5,
                    "log": false
                }
            },
            "tilt_y": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": -5,
                    "high": 5,
                    "step": 0.5,
                    "log": false
                }
            },
            "tilt_x": {
                "state": false,
                "suggest": "float",
                "kwargs": {
                    "low": -5,
                    "high": 5,
                    "step": 0.5,
                    "log": false
                }
            }
        }
    },
    "model_params": {
        "obj_preblur_std": null,
        "detector_blur_std": null,
        "optimizer_params": {
            "name": "Adam",
            "configs": {},
            "load_state": null
        },
        "update_params": {
            "obja": {
                "start_iter": 1,
                "lr": 0.0005
            },
            "objp": {
                "start_iter": 1,
                "lr": 0.0005
            },
            "obj_tilts": {
                "start_iter": null,
                "lr": 0
            },
            "slice_thickness": {
                "start_iter": null,
                "lr": 0
            },
            "probe": {
                "start_iter": 1,
                "lr": 0.0001
            },
            "probe_pos_shifts": {
                "start_iter": 1,
                "lr": 0.0001
            }
        }
    },
    "loss_params": {
        "loss_single": {
            "state": true,
            "weight": 1.0,
            "dp_pow": 0.5
        },
        "loss_poissn": {
            "state": false,
            "weight": 1.0,
            "dp_pow": 1.0,
            "eps": 1e-06
        },
        "loss_pacbed": {
            "state": false,
            "weight": 0.5,
            "dp_pow": 0.2
        },
        "loss_sparse": {
            "state": true,
            "weight": 0.1,
            "ln_order": 1
        },
        "loss_simlar": {
            "state": false,
            "weight": 0.1,
            "obj_type": "both",
            "scale_factor": [
                1,
                1,
                1
            ],
            "blur_std": 1
        }
    },
    "constraint_params": {
        "ortho_pmode": {
            "freq": 1
        },
        "probe_mask_k": {
            "freq": null,
            "radius": 0.22,
            "width": 0.05,
            "power_thresh": 0.95
        },
        "fix_probe_int": {
            "freq": 1
        },
        "obj_rblur": {
            "freq": 1,
            "obj_type": "both",
            "kernel_size": 5,
            "std": 0.2
        },
        "obj_zblur": {
            "freq": 1,
            "obj_type": "both",
            "kernel_size": 5,
            "std": 1
        },
        "kr_filter": {
            "freq": null,
            "obj_type": "both",
            "radius": 0.15,
            "width": 0.05
        },
        "kz_filter": {
            "freq": null,
            "obj_type": "both",
            "beta": 1,
            "alpha": 1
        },
        "obja_thresh": {
            "freq": 1,
            "relax": 0,
            "thresh": [
                0.98,
                1.02
            ]
        },
        "objp_postiv": {
            "freq": 1,
            "relax": 0
        },
        "tilt_smooth": {
            "freq": null,
            "std": 2
        }
    },
    "recon_params": {
        "NITER": 20,
        "INDICES_MODE": {
            "mode": "full",
            "subscan_slow": null,
            "subscan_fast": null
        },
        "BATCH_SIZE": {
            "size": 32,
            "grad_accumulation": 1
        },
        "GROUP_MODE": "random",
        "SAVE_ITERS": 5,
        "output_dir": "output/tBL_WSe2/",
        "recon_dir_affixes": [
            "optimizer",
            "start_iter",
            "lr",
            "model",
            "constraint",
            "loss"
        ],
        "prefix_date": true,
        "prefix": "",
        "postfix": "",
        "save_result": [
            "model",
            "obja",
            "objp",
            "probe",
            "probe_prop"
        ],
        "result_modes": {
            "obj_dim": [
                2,
                3,
                4
            ],
            "FOV": [
                "crop"
            ],
            "bit": [
                "raw",
                "8"
            ]
        },
        "selected_figs": [
            "loss",
            "forward",
            "probe_r_amp",
            "probe_k_amp",
            "probe_k_phase",
            "pos",
            "slice_thickness"
        ],
        "copy_params": true,
        "if_quiet": false
    }
}